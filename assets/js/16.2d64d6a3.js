(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{513:function(t,s){t.exports="data:image/png;base64,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"},544:function(t,s,a){"use strict";a.r(s);var n=a(27),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"java-开发实战-5-分钟搞定-liquibase-数据库版本控制"}},[t._v("[Java 开发实战] 5 分钟搞定 liquibase 数据库版本控制")]),t._v(" "),n("p",[t._v("Java 生态下的数据库版本控制工具有 Flyaway 和 Liquibase，两者具备相似的功能，但基本概念不太一样，本文不对两者进行比较，主要介绍使用 Liquibase 进行数据库版本控制。")]),t._v(" "),n("p",[t._v("本文涉及的工具有 maven、mysql。")]),t._v(" "),n("h2",{attrs:{id:"添加依赖"}},[t._v("添加依赖")]),t._v(" "),n("p",[t._v("在 pom 文件中引入必要的依赖：")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependencies")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-jdbc"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.liquibase"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("liquibase-core"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("mysql"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("mysql-connector-java"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependencies")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("由于 spring-boot-starter-jdbc 中含有 spring-boot-starter、spring-boot-autoconfigure 依赖，我们只需要引入这一个依赖即可。")]),t._v(" "),n("p",[t._v("spring boot 框架整合了许多第三方库，这其中包括 Liquibase，在 autoconfigure 模块中包含 Liquibase 的可选依赖和 LiquibaseAutoConfiguration 类，下面是这个类上的部分注解代码。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ConditionalOnClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringLiquibase")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DatabaseChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ConditionalOnProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    prefix "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"spring.liquibase"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"enabled"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    matchIfMissing "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@AutoConfigureAfter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataSourceAutoConfiguration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HibernateJpaAutoConfiguration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LiquibaseAutoConfiguration")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("可以看到该自动配置在 DataSourceAutoConfiguration 配置之后执行，因此必须引用 spring-boot-starter-jdbc 依赖，这是较容易被忽略的一点。")]),t._v(" "),n("h2",{attrs:{id:"修改-spring-配置"}},[t._v("修改 Spring 配置")]),t._v(" "),n("p",[t._v("引入以上依赖后 Liquibase 默认就启用了，我们可以在 Spring 配置文件中添加相关的配置，数据库的相关配置请读者朋友根据机器运行环境进行修改。")]),t._v(" "),n("div",{staticClass:"language-properties extra-class"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("spring.datasource.url")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("jdbc:mysql://localhost/db?createDatabaseIfNotExist=true&allowMultiQueries=true&useUnicode=true&characterEncoding=utf8&serverTimezone=GMT%2B8")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("spring.datasource.username")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("root")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("spring.datasource.password")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("root")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("spring.datasource.driver-class-name")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("com.mysql.cj.jdbc.Driver")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("spring.liquibase.change-log")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("classpath:liquibase/master.xml")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("spring.liquibase.contexts")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("dev")]),t._v("\n")])])]),n("p",[t._v("注意：datasource 的 url 中包含 "),n("strong",[t._v("createDatabaseIfNotExist=true")]),t._v(" 配置，这将使数据库在不存在时自动创建。")]),t._v(" "),n("p",[t._v("在配置中只简单指定了 change-log 和 contexts 两个属性，更多的属性可查看 "),n("strong",[t._v("LiquibaseProperties")]),t._v(" 类，其中包含部分属性的默认值，若使用默认值，以上两个属性都不需要配置，默认的 changeLog 地址为：classpath:/db/changelog/db.changelog-master.yaml 。")]),t._v(" "),n("h2",{attrs:{id:"编写-liquibase-配置代码"}},[t._v("编写 Liquibase 配置代码")]),t._v(" "),n("p",[t._v("首先看下文件的组织：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(513),alt:"文件结构"}})]),t._v(" "),n("p",[t._v("这是官方推荐的方式，使用发布版本号来组织数据库变更记录。")]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v("master.xml 中的代码：")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="utf-8"?>')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("databaseChangeLog")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.liquibase.org/xml/ns/dbchangelog"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.liquibase.org/xml/ns/dbchangelog\n         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("include")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("file")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("liquibase/changelog/db.changelog-1.0.xml"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("databaseChangeLog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("有更新时新增 include 标签和对应的文件即可。")]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v("db.changelog-1.0.xml 中的代码：")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("databaseChangeLog")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.liquibase.org/xml/ns/dbchangelog"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.liquibase.org/xml/ns/dbchangelog\n         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("changeSet")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("create_type_dict"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("author")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("lcomplete"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("sqlFile")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("liquibase/changelog/1.0/create_type_dict.sql"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("changeSet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("databaseChangeLog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("一个变更对应一个 changeSet，在这里意味着一个变更对应一个 sql，若在一个 sql 中编写多个变更，不利于回滚，可能导致数据库进入未预期的状态。")]),t._v(" "),n("p",[t._v("changeSet 中包含 author 和 id 两个必写的属性，这两个属性组成了变更的唯一标志，注意 id 并不是用来控制执行顺序的。")]),t._v(" "),n("p",[t._v("changeSet 还包含一些属性，比如 Contexts ，可以控制 changeSet 是否需要在当前环境（上文演示了在 Spring 配置中如何设置）中执行，使用这个属性可以在测试环境增加一些需要额外执行的变更，比如填充数据。 更多属性可以查看：https://docs.liquibase.com/concepts/basic/changeset.html。")]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v("create_type_dict.sql 中的代码：")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" type_dict\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    id          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto_increment")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("primary")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    category    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("not")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'分类'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    type_key    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v("          "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("not")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'类型key'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    type_value  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'类型值'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    is_enable   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bit")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'是否启用'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    create_time "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("datetime")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'创建时间'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("collate")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" utf8mb4_general_ci"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("这个 sql 中包含一个示例建表语句，注意：不需要判断表是否存在，若这次变更执行过，Liquibase 会在自动创建的表 databasechangelog（默认表名、可配置） 中记录下来，下次不再执行。")]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v("在上面的配置中，使用 sql 来创建数据表，Liquibase 还支持使用 xml、json、yaml 来定义表，在大多数场景下使用 sql 就足够了，因此这里不介绍其他的用法。")]),t._v(" "),n("h2",{attrs:{id:"完结撒花"}},[t._v("完结撒花")]),t._v(" "),n("p",[t._v("编写完成以上的配置代码，添加 Spring Boot 应用程序启动类运行程序即可自动更新数据库。")]),t._v(" "),n("p",[t._v("是不是很简单？当然在实际的项目过程中，还需要考虑 Liquibase 配置在流水线中如何运行，Liquibase 的代码仓库如何组织等问题，这些就留给读者朋友自己思考吧（其实是笔者比较懒，先不写了）。")]),t._v(" "),n("p",[t._v("关于 Liquibase 的更多概念可以查看官方文档："),n("a",{attrs:{href:"https://docs.liquibase.com/concepts/home.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://docs.liquibase.com/concepts/home.html"),n("OutboundLink")],1),t._v(" 。")])])}),[],!1,null,null,null);s.default=e.exports}}]);